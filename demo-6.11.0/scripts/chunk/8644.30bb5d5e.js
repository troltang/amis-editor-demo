"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[8644],{48644:function(t,o,r){r.r(o),r.d(o,{InputGroup:function(){return a},default:function(){return s}});var e=r(31635),n=r(96540),i=r(62758),a=function(t){function o(o){var r=t.call(this,o)||this;return r.toDispose=[],r.handleFocus=r.handleFocus.bind(r),r.handleBlur=r.handleBlur.bind(r),r.validateHook=r.validateHook.bind(r),r.state={isFocused:!1},r}return(0,e.C6)(o,t),o.prototype.componentDidMount=function(){var t=this.props,o=t.addHook;t.name&&o&&this.toDispose.push(o(this.validateHook,"validate"))},o.prototype.componentDidUpdate=function(t){var o;(0,i.TIf)(["errorCode","delimiter"],null==t?void 0:t.validationConfig,null===(o=this.props)||void 0===o?void 0:o.validationConfig)&&this.validateHook()},o.prototype.componentWillUnmount=function(){this.toDispose.forEach((function(t){return t()})),this.toDispose=[]},o.prototype.getValidationConfig=function(){var t=this.props.validationConfig;return{errorMode:"partial"!==(null==t?void 0:t.errorMode)?"full":"partial",delimiter:(null==t?void 0:t.delimiter)&&"string"==typeof t.delimiter?t.delimiter:"; "}},o.prototype.validateHook=function(){var t,o=this.props,r=o.formStore,e=o.formItem,n=o.name,i=this.getValidationConfig().delimiter;if(n){var a=null===(t=null==r?void 0:r.inputGroupItems)||void 0===t?void 0:t[n];if(Array.isArray(a)){var s=a.map((function(t,o){if(t.errors.length<=0)return"";var r=t.label?"(".concat(o+1,")").concat(t.label):"(".concat(o+1,")");return"".concat(r,": ").concat(t.errors.join(i))})).filter(Boolean);e&&e.setError(s)}}},o.prototype.handleFocus=function(){this.setState({isFocused:!0})},o.prototype.handleBlur=function(){this.setState({isFocused:!1})},o.prototype.renderControl=function(t,o,r){var n=this.props,i=n.render,a=n.onChange;if(!t)return null;var s=t;return i("".concat(o),s,(0,e.Cl)({onChange:a},r))},o.prototype.validate=function(){var t=this.props.formItem,o=[];return null==t||t.subFormItems.forEach((function(t){t.errors.length&&o.push.apply(o,(0,e.fX)([],(0,e.zs)(t.errors),!1))})),o.length?o:""},o.prototype.render=function(){var t=this,o=this.props,r=o.body,e=o.controls,a=o.className,s=(o.style,o.mode),l=o.horizontal,u=o.formMode,d=o.formHorizontal,p=o.data,c=o.classnames,f=o.static,h=o.disabled,m=o.mobileUI,v=this.getValidationConfig().errorMode;u=s||u;var y=Array.isArray(e)?e:r;Array.isArray(y)||(y=[]),y=y.filter((function(t){if(t&&(t.hidden||!1===t.visible))return!1;var o=(0,i.x_4)(t||{},p);return!o.hidden&&!1!==o.visible}));var b=l||(d?(0,i.OHk)(d,y.length):void 0);return n.createElement("div",{className:c("InputGroup","InputGroup-validation--".concat(v),a,{"is-focused":this.state.isFocused},{"is-mobile":m})},y.map((function(o,r){var e=~["icon","plain","tpl","button","submit","reset"].indexOf(o&&o.type),i=t.renderControl(o,r,{formHorizontal:b,formMode:"normal",inputOnly:!0,inputGroupControl:{name:t.props.name,path:t.props.$path,schema:t.props.$schema},key:r,static:f,disabled:h,onFocus:t.handleFocus,onBlur:t.handleBlur});return e?n.createElement("span",{key:r,className:c(o.addOnclassName,~["button","submit","reset"].indexOf(o&&o.type)?"InputGroup-btn":"InputGroup-addOn")},i):i})))},o.defaultProps={validationConfig:{errorMode:"full",delimiter:"; "}},o}(n.Component),s=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return(0,e.C6)(o,t),(0,e.Cg)([(0,i.eIh)({type:"input-group",strictMode:!1})],o)}(a)}}]);