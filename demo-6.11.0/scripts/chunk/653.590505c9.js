"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[653],{653:function(t,i,n){n.r(i),n.d(i,{FormulaControlRenderer:function(){return u},default:function(){return a}});var o=n(31635),e=n(96540),r=n(62758),a=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.inited=!1,i}return(0,o.C6)(i,t),i.prototype.componentDidMount=function(){var t=this.props,i=t.formInited,n=t.initSet,o=t.addHook;this.unHook=o?o(this.handleFormInit,"init"):void 0,!1!==i&&(this.inited=!0,!1===n||this.initSet())},i.prototype.componentDidUpdate=function(t){var i=this.props,n=i.formInited,o=i.initSet,e=i.autoSet;this.inited?!1===e||this.autoSet(t):void 0===n&&(this.inited=!0,!1===o||this.initSet())},i.prototype.componentWillUnmount=function(){var t;null===(t=this.unHook)||void 0===t||t.call(this)},i.prototype.handleFormInit=function(t){this.inited=!0;var i=this.props,n=i.name;if(!1!==i.initSet){var o=this.initSet();"string"==typeof n&&void 0!==o&&(0,r.BBb)(t,n,o)}},i.prototype.initSet=function(){var t=this.props,i=t.formula,n=t.data,o=t.setPrinstineValue,e=(t.initSet,t.condition);if(i&&(!e||~e.indexOf("$")||~e.indexOf("<%")||(0,r.k7i)(e,n))){var a=(0,r.k7i)(i,n);return null!==a&&(null==o||o(a)),a}},i.prototype.autoSet=function(t){var i=this.props,n=t.formula,o=t.data,e=t.onChange,a=t.value,u=t.condition;if(n&&i.formula&&(0,r.JQ)(o,i.data,!1)&&a===i.value){var p=(0,r.k7i)(i.formula,i.data);if(u&&i.condition)~u.indexOf("$")||~u.indexOf("<%")?(0,r.pbD)(u,o)!==(0,r.pbD)(i.condition,i.data)&&e(p):(0,r.k7i)(i.condition,i.data)&&e(p);else{var d=(0,r.k7i)(n,o);JSON.stringify(d)!==JSON.stringify(p)&&e(null!=p?p:"")}}},i.prototype.doAction=function(){var t=this.props,i=t.formula,n=t.data,o=t.onChange;t.autoSet,t.value,o((0,r.k7i)(i,n))},i.prototype.render=function(){return null},(0,o.Cg)([r.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],i.prototype,"handleFormInit",null),i}(e.Component),u=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return(0,o.C6)(i,t),(0,o.Cg)([(0,r.eIh)({type:"formula",wrap:!1,strictMode:!1,sizeMutable:!1})],i)}(a)}}]);