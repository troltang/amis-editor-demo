"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[7800],{97800:function(e,t,n){n.r(t),n.d(t,{Carousel:function(){return d},CarouselRenderer:function(){return h}});var o,r=n(31635),i=n(96540),s=n(22669),a=n(62758),l=n(71121),u=n(98253),p=((o={})[s.ns]="in",o[s._K]="in",o[s.ze]="out",o),c={component:function(e){var t,n,o=e.data||{},r=e.thumbMode,s=e.classnames;return i.createElement(i.Fragment,null,o.hasOwnProperty("image")?i.createElement(u.default,{src:o.image,title:o.title,href:o.href,blank:o.blank,htmlTarget:o.htmlTarget,caption:o.description,thumbMode:null!==(n=null!==(t=o.thumbMode)&&void 0!==t?t:r)&&void 0!==n?n:"contain",imageMode:"original",className:s("Carousel-image")}):o.hasOwnProperty("html")?i.createElement(l.Ed,{html:o.html,filterHtml:e.env.filterHtml}):o.hasOwnProperty("item")?i.createElement("span",null,o.item):i.createElement("p",null))}},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=i.createRef(),t.state={current:0,options:t.props.options||(0,a.$_G)(t.props)||[],nextAnimation:"",mouseStartLocation:null},t.loading=!1,t}return(0,r.C6)(t,e),t.prototype.componentDidMount=function(){this.prepareAutoSlide()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.options||(0,a.$_G)(t)||[],o=e.options||(0,a.$_G)(e)||[];(0,a.Kbh)(o,n)&&this.setState({options:n})},t.prototype.componentWillUnmount=function(){this.clearAutoTimeout()},t.prototype.doAction=function(e,t,n,o){var r=null==e?void 0:e.actionType;~["next","prev"].indexOf(r)?this.autoSlide(r):"goto-image"===r&&this.changeSlide((null==o?void 0:o.activeIndex)-1)},t.prototype.prepareAutoSlide=function(){if(!(this.state.options.length<2)&&(this.clearAutoTimeout(),this.props.auto)){var e=this.props.interval;this.intervalTimeout=setTimeout(this.autoSlide,"string"==typeof e?(0,a.GvO)(e,this.props.data)||5e3:e)}},t.prototype.autoSlide=function(e){this.clearAutoTimeout();var t=this.props.animation,n=this.state.nextAnimation;"prev"===e?(n="slide"===t?"slideRight":"",this.transitFramesTowards("right",n)):(n="",this.transitFramesTowards("left",n)),this.durationTimeout=setTimeout(this.prepareAutoSlide,this.props.duration)},t.prototype.transitFramesTowards=function(e,t){return(0,r.sH)(this,void 0,void 0,(function(){var n,o,i,s,l,u;return(0,r.YH)(this,(function(r){switch(r.label){case 0:if(n=this.state.current,o=n,!1===this.props.loop&&(0===n&&"right"===e||n===this.state.options.length-1&&"left"===e))return[2];switch(e){case"left":n=this.getFrameId("next");break;case"right":n=this.getFrameId("prev")}return i=this.props,s=i.dispatchEvent,l=i.data,[4,s("change",(0,a.ed2)(l,{activeIndex:n+1,prevIndex:o}))];case 1:return(null==(u=r.sent())?void 0:u.prevented)||this.setState({current:n,nextAnimation:t}),[2]}}))}))},t.prototype.getFrameId=function(e){var t=this.state,n=t.options,o=t.current,r=n.length;switch(e){case"prev":return(o-1+r)%r;case"next":return(o+1)%r;default:return o}},t.prototype.next=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("next")},t.prototype.prev=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("prev")},t.prototype.clearAutoTimeout=function(){clearTimeout(this.intervalTimeout),clearTimeout(this.durationTimeout)},t.prototype.changeSlide=function(e){return(0,r.sH)(this,void 0,void 0,(function(){var t,n,o,i,s,l;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return t=this.state.current,n=this.props,o=n.dispatchEvent,i=n.data,s=n.multiple,this.loading&&s&&s.count>1?[2]:[4,o("change",(0,a.ed2)(i,{activeIndex:e,prevIndex:t}))];case 1:return(null==(l=r.sent())?void 0:l.prevented)||this.setState({current:e}),[2]}}))}))},t.prototype.renderDots=function(){var e=this,t=this.props.classnames,n=this.state,o=n.current,r=n.options;return i.createElement("div",{className:t("Carousel-dotsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},Array.from({length:r.length}).map((function(n,r){return i.createElement("span",{key:r,onClick:function(){return e.changeSlide(r)},className:t("Carousel-dot",o===r?"is-active":"")})})))},t.prototype.renderArrows=function(){var e=this.props.classnames;return i.createElement("div",{className:e("Carousel-arrowsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement("div",{className:e("Carousel-leftArrow"),onClick:this.prev},i.createElement(l.In,{icon:"left-arrow",className:"icon"})),i.createElement("div",{className:e("Carousel-rightArrow"),onClick:this.next},i.createElement(l.In,{icon:"right-arrow",className:"icon"})))},t.prototype.handleMouseEnter=function(){var e=this.props.multiple;e&&e.count>1||this.clearAutoTimeout()},t.prototype.handleMouseLeave=function(){var e=this.props.multiple;e&&e.count>1||this.prepareAutoSlide()},t.prototype.getNewOptions=function(e,t){void 0===t&&(t=1);var n=e;if(Array.isArray(e)&&e.length){n=new Array(e.length);for(var o=0;o<e.length;o++){n[o]=new Array(t);for(var r=0;r<t;r++)n[o][r]=e[(o+r)%e.length]}}return n},t.prototype.getEventScreenXY=function(e){var t,n,o,r,i,s,a,l;return void 0!==e.screenX?(a=e.screenX,l=e.screenY):(null===(t=e.touches)||void 0===t?void 0:t.length)?(a=null===(n=e.touches[0])||void 0===n?void 0:n.screenX,l=null===(o=e.touches[0])||void 0===o?void 0:o.screenY):(null===(r=e.changedTouches)||void 0===r?void 0:r.length)&&(a=null===(i=e.changedTouches[0])||void 0===i?void 0:i.screenX,l=null===(s=e.changedTouches[0])||void 0===s?void 0:s.screenY),{screenX:a,screenY:l}},t.prototype.addMouseDownListener=function(e){var t=this.props.direction,n=this.getEventScreenXY(e),o=n.screenX,r=n.screenY,i="vertical"===t?r:o;void 0!==i&&this.setState({mouseStartLocation:i})},t.prototype.addMouseUpListener=function(e){var t=this.getEventScreenXY(e),n=t.screenX,o=t.screenY,r="vertical"===this.props.direction?o:n;null!==this.state.mouseStartLocation&&void 0!==r&&(r-this.state.mouseStartLocation>20?this.autoSlide("prev"):this.state.mouseStartLocation-r>20&&this.autoSlide(),this.setState({mouseStartLocation:null}))},t.prototype.render=function(){var e,t=this,n=this.props,o=n.render,u=n.className,d=n.style,h=n.classnames,m=n.itemSchema,v=n.animation,g=n.width,y=n.height,f=n.controls,S=n.controlsTheme,C=n.placeholder,w=n.data,E=n.name,M=n.duration,N=n.multiple,A=n.alwaysShowArrow,x=n.icons,T=n.id,b=n.wrapperCustomStyle,L=n.env,F=n.themeCss,k=this.state,I=k.options,O=k.current,X=k.nextAnimation,D=null,H=d?(0,r.Cl)({},d):{};g&&(isNaN(Number(g))?H.width=g:H.width=g+"px"),y&&(isNaN(Number(y))?H.height=y:H.height=y+"px");var Y=(0,r.zs)([f.indexOf("dots")>-1,f.indexOf("arrows")>-1],2),R=Y[0],U=Y[1],_=X||v;if(Array.isArray(I)&&I.length){var G=1;N&&"number"==typeof N.count&&N.count>=2&&(G=Math.floor(N.count)<I.length?Math.floor(N.count):I.length);var z=this.getNewOptions(I,G),P=G>1&&"number"==typeof M?"".concat(M,"ms"):M||"500ms",j=G>1&&"number"==typeof M?M:500;D=i.createElement("div",{ref:this.wrapperRef,className:h("Carousel-container"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},I.map((function(e,n){return i.createElement(s.Ay,{mountOnEnter:!0,unmountOnExit:!0,in:n===O,timeout:j,key:n},(function(l){var u;l===s.ns&&t.wrapperRef.current&&t.wrapperRef.current.childNodes.forEach((function(e){return e.offsetHeight})),G>1&&(l!==s.ns&&l!==s.ze||t.loading?l!==s._K&&l!==s.kp||!t.loading||(t.loading=!1):t.loading=!0);var d=((u={})[s.ns]=0,u[s._K]=0,u[s.ze]="slideRight"===_?100/G:-100/G,u[s.kp]="slideRight"===_?-100/G:100/G,u),g=G>1?(0,r.Cl)({transitionTimingFunction:"linear",transitionDuration:P},"slide"===v?{transform:"translateX(".concat(d[l],"%)")}:{}):{},y=function(e){var n,i=e.itemSchema,s=(0,r.Tt)(e,["itemSchema"]);return o("".concat(O,"/body"),i||m?i||m:c,{thumbMode:t.props.thumbMode,data:(0,a.ed2)(w,(0,a.Gvm)(e)?s:(n={item:e},n[E]=e,n))})};return i.createElement("div",{className:h("Carousel-item",_,p[l]),style:g},1===G?y(e):null,G>1?z[n].map((function(e,t){return i.createElement("div",{key:t,style:{width:100/G+"%",height:"100%",float:"left"}},y(e))})):null)}))})))}return i.createElement("div",{className:h("Carousel Carousel--".concat(S),(e={},e["Carousel-arrow--always"]=!!A,e),u,(0,a.NH8)((0,r.Cl)((0,r.Cl)({},this.props),{name:"baseControlClassName",id:T,themeCss:F})),(0,a.NH8)((0,r.Cl)((0,r.Cl)({},this.props),{name:"wrapperCustomStyle",id:T,themeCss:b})),{"Carousel-vertical":"vertical"===this.props.direction}),onMouseDown:this.props.mouseEvent?this.addMouseDownListener:void 0,onMouseUp:this.props.mouseEvent?this.addMouseUpListener:void 0,onMouseLeave:this.props.mouseEvent?this.addMouseUpListener:void 0,onTouchStart:this.props.mouseEvent?this.addMouseDownListener:void 0,onTouchEnd:this.props.mouseEvent?this.addMouseUpListener:void 0,style:H},D||C,R?this.renderDots():null,U?i.createElement("div",{className:h("Carousel-leftArrow",(0,a.NH8)((0,r.Cl)((0,r.Cl)({},this.props),{name:"galleryControlClassName",id:T,themeCss:F}))),onClick:this.prev},x&&x.prev?i.isValidElement(x.prev)?x.prev:o("arrow-prev",x.prev):i.createElement(l.In,{icon:"left-arrow",className:"icon",iconContent:"ImageGallery-prevBtn"})):null,U?i.createElement("div",{className:h("Carousel-rightArrow",(0,a.NH8)((0,r.Cl)((0,r.Cl)({},this.props),{name:"galleryControlClassName",id:T,themeCss:F}))),onClick:this.next},x&&x.next?i.isValidElement(x.next)?x.next:o("arrow-next",x.next):i.createElement(l.In,{icon:"right-arrow",className:"icon",iconContent:"ImageGallery-nextBtn"})):null,i.createElement(a.z4D,(0,r.Cl)({},this.props,{config:{wrapperCustomStyle:b,id:T,themeCss:F,classNames:[{key:"baseControlClassName"},{key:"galleryControlClassName",weights:{default:{suf:" svg",important:!0}}}]},env:L})))},t.defaultProps={auto:!0,interval:5e3,duration:500,controlsTheme:"light",animation:"fade",controls:["dots","arrows"],placeholder:"-",multiple:{count:1},alwaysShowArrow:!1},(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"prepareAutoSlide",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"autoSlide",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String,String]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"transitFramesTowards",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"getFrameId",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"next",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"prev",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"clearAutoTimeout",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Number]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"changeSlide",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"addMouseDownListener",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"addMouseUpListener",null),t}(i.Component),h=function(e){function t(t,n){var o=e.call(this,t)||this;return n.registerComponent(o),o}return(0,r.C6)(t,e),t.prototype.componentWillUnmount=function(){var t;null===(t=e.prototype.componentWillUnmount)||void 0===t||t.call(this),this.context.unRegisterComponent(this)},t.contextType=a.MzX,(0,r.Cg)([(0,a.A49)({type:"carousel"}),(0,r.Sn)("design:paramtypes",[Object,Object])],t)}(d)}}]);