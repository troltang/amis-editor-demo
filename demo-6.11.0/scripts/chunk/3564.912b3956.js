"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[3564],{73564:function(e,t,n){n.r(t),n.d(t,{BaseTabsTransferRenderer:function(){return h},TabsTransferRenderer:function(){return v}});var r=n(31635),a=n(62758),i=n(96540),l=n(7309),s=n.n(l),o=n(71121),u=n(61816),d=n(63063),c=n(66283),p=n(51545),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,r.C6)(t,e),t.prototype.onTabChange=function(e){return(0,r.sH)(this,void 0,void 0,(function(){var t;return(0,r.YH)(this,(function(n){switch(n.label){case 0:return[4,(0,this.props.dispatchEvent)("tab-change",{key:e})];case 1:return(null==(t=n.sent())?void 0:t.prevented)||this.setState({activeKey:e}),[2]}}))}))},t.prototype.handleTabSearch=function(e,t,n){return(0,r.sH)(this,void 0,void 0,(function(){var i,l,o,u,d,c,h,v,y,f,g;return(0,r.YH)(this,(function(r){switch(r.label){case 0:if(i=this.props,l=i.options,o=i.labelField,u=i.valueField,d=i.env,c=i.data,h=i.searchApi,v=i.translate,!h)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,d.fetcher(h,(0,a.ed2)(c,{term:e}),{cancelExecutor:n})];case 2:if(!(y=r.sent()).ok)throw new Error(v(y.msg||"networkError"));if(f=y.data.options||y.data.items||y.data,!Array.isArray(f))throw new Error(v("CRUD.invalidArray"));return[2,f.map((function(e){var t=null,n=e[u||"value"];return Array.isArray(l)&&null!=n&&(t=s()(l,(0,a.UjQ)(n,u))),t||e}))];case 3:return g=r.sent(),d.isCancel(g)||!h.silent&&d.notify("error",g.message),[2,[]];case 4:return[3,6];case 5:return e?[2,(0,a.hVz)(t.children||l,(function(t,n,r,a){return!!(Array.isArray(t.children)&&t.children.length||(0,p.Ht)([t].concat(a),e,{keys:[o||"label",u||"value"],threshold:p.Ht.rankings.CONTAINS}).length)}),0,!0)]:[2,l];case 6:return[2]}}))}))},t.prototype.handleChange=function(e,t){return(0,r.sH)(this,void 0,void 0,(function(){var n,i,l,s,o,u,d,c,p,h,v,y,f,g;return(0,r.YH)(this,(function(m){switch(m.label){case 0:return n=this.props,i=n.onChange,l=n.joinValues,s=n.delimiter,o=n.valueField,u=n.extractValue,d=n.options,c=n.dispatchEvent,p=n.setOptions,h=n.translate,v=e,y=d.concat(),f="UN_MATCH_RESULT",Array.isArray(e)?(v=e.map((function(e){var n=(0,a.iXH)(d,(0,a.UjQ)(e[o||"value"],o||"value"));if(n){if(t){var i=(0,a.Jvj)(y,n);y=(0,a.Z6D)(y,n,1,(0,r.Cl)((0,r.Cl)({},i),e))}}else{var s=(0,a.iXH)(y,(function(e){return e.value===f}));if(s){var c=(0,a.Jvj)(y,s);(null==c?void 0:c.children)&&(c.children.push(e),y=(0,a.Z6D)(y,s,1,(0,r.Cl)((0,r.Cl)({},c),e)))}else y.push({label:h("searchResult"),value:f,visible:!1,children:[e]})}return l||u?e[o||"value"]:e})),l&&(v=v.join(s||","))):e&&(v=l||u?e[o||"value"]:e),(y.length>d.length||t)&&p(y,!0),[4,c("change",(0,a.RKM)(this.props,{value:v,options:d,items:d}))];case 1:return(null==(g=m.sent())?void 0:g.prevented)||i(v),[2]}}))}))},(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Number]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"onTabChange",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String,Object,Function]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"handleTabSearch",null),(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"handleChange",null),t}(u.BaseTransferRenderer),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.optionItemRender=function(e,t){var n=this.props,i=n.menuTpl,l=n.render,s=n.data,o=n.classnames,u=arguments[2]||{};return i?l("item/".concat(t.index),i,{data:(0,a.ed2)((0,a.ed2)(s,(0,r.Cl)((0,r.Cl)({},t),u)),e)}):d.qZ.itemRender(e,(0,r.Cl)((0,r.Cl)({},t),{classnames:o}))},t.prototype.doAction=function(e,t,n,r){var i,l,s;void 0===n&&(n=!1);var o=this.props,u=o.resetValue,d=o.onChange,c=o.formStore,p=o.store,h=o.name,v=null==r?void 0:r.activeKey;switch(e.actionType){case"clear":null==d||d("");break;case"reset":null==d||d(null!==(s=null!==(l=(0,a.dnO)(null!==(i=null==c?void 0:c.pristine)&&void 0!==i?i:null==p?void 0:p.pristine,h))&&void 0!==l?l:u)&&void 0!==s?s:"");break;case"changeTabKey":this.setState({activeKey:v})}},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.style,e.classnames),r=e.options,l=e.selectedOptions,s=e.sortable,u=e.loading,d=e.searchResultMode,c=e.selectMode,p=e.searchable,h=e.showArrow,v=e.deferLoad,y=e.leftDeferLoad,f=e.disabled,g=e.selectTitle,m=e.resultTitle,b=e.itemHeight,C=e.virtualThreshold,T=e.onlyChildren,S=e.loadingConfig,R=e.valueField,w=void 0===R?"value":R,A=e.labelField,F=void 0===A?"label":A,H=e.valueTpl,k=e.menuTpl,E=e.data,I=e.mobileUI,j=e.initiallyOpen,O=void 0===j||j,K=e.testIdBuilder;return i.createElement("div",{className:n("TabsTransferControl",t)},i.createElement(o.uX,{onlyChildren:T,activeKey:this.state.activeKey,value:l,disabled:f,options:r,onChange:this.handleChange,option2value:this.option2value,sortable:s,searchResultMode:d,onSearch:this.handleTabSearch,showArrow:h,onDeferLoad:v,onLeftDeferLoad:y,selectTitle:g,resultTitle:m,selectMode:c,searchable:p,optionItemRender:k?this.optionItemRender:void 0,resultItemRender:H?this.resultItemRender:void 0,onTabChange:this.onTabChange,itemHeight:(0,a.Roz)(b)>0?(0,a.Roz)(b):void 0,virtualThreshold:C,labelField:F,valueField:w,ctx:E,mobileUI:I,initiallyOpen:O,testIdBuilder:K}),i.createElement(o.y$,{overlay:!0,key:"info",show:u,loadingConfig:S}))},t.defaultProps={multiple:!0},(0,r.Cg)([a.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,r.Cg)([(0,c.E)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"render",null),(0,r.Cg)([(0,a.QqA)({type:"tabs-transfer"})],t)}(h)}}]);