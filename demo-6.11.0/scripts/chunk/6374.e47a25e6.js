(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[6374],{17678:function(e){var n=Math.max,t=Math.min;e.exports=function(e,o,l){return e>=t(o,l)&&e<n(o,l)}},59104:function(e,n,t){var o=t(17678),l=t(17400),i=t(99374);e.exports=function(e,n,t){return n=l(n),void 0===t?(t=n,n=0):t=l(t),e=i(e),o(e,n,t)}},96374:function(e,n,t){"use strict";t.r(n),t.d(n,{CheckboxesControlRenderer:function(){return u},default:function(){return p}});var o=t(31635),l=t(96540),i=t(59104),s=t.n(i),a=t(62758),c=t(71121),r=t(66283),d=t(38221),h=t.n(d),p=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.checkboxRef=l.createRef(),n.childRefs=[],n}return(0,o.C6)(n,e),n.prototype.doAction=function(e,n,t){var o,l,i=this.props,s=i.resetValue,c=i.onChange,r=i.formStore,d=i.store,h=i.name,p=null==e?void 0:e.actionType;if("clear"===p)c("");else if("reset"===p){var u=null!==(l=(0,a.dnO)(null!==(o=null==r?void 0:r.pristine)&&void 0!==o?o:null==d?void 0:d.pristine,h))&&void 0!==l?l:s;c(null!=u?u:"")}},n.prototype.reload=function(){var e=this.props.reloadOptions;e&&e()},n.prototype.handleAddClick=function(){var e=this.props.onAdd;e&&e()},n.prototype.handleEditClick=function(e,n){var t=this.props.onEdit;e.preventDefault(),e.stopPropagation(),t&&t(n)},n.prototype.handleDeleteClick=function(e,n){var t=this.props.onDelete;e.preventDefault(),e.stopPropagation(),t&&t(n)},n.prototype.componentDidMount=function(){this.updateBorderStyle();var e=h()(this.updateBorderStyle,100);this.checkboxRef.current&&(this.checkboxRefObserver=new ResizeObserver(e),this.checkboxRefObserver.observe(this.checkboxRef.current))},n.prototype.componentWillUnmount=function(){var e;null===(e=this.checkboxRefObserver)||void 0===e||e.disconnect()},n.prototype.updateBorderStyle=function(){if("button"===this.props.optionType&&this.childRefs.length){var e=this.childRefs.map((function(e){return null==e?void 0:e.ref})),n=e[0].labelRef.current.offsetTop,t=[],o=e.length;t[0]="first";for(var l=0,i=1;i<o;i++){var s=e[i].labelRef.current.offsetTop;t[i]="",s!==n&&(t[i]="first",t[i-1]+=" last",l=i,n=s)}t[o-1]+=" last",t.forEach((function(n,t){t>=l&&(n+=" last-line"),e[t].setClassName(n)}))}},n.prototype.renderGroup=function(e,n){var t,o=this,i=this.props,s=i.classnames,a=i.labelField;if(!(null===(t=e.children)||void 0===t?void 0:t.length))return null;var c=e.children.map((function(e,n){return o.renderItem(e,n)})),r=this.columnsSplit(c);return l.createElement("div",{key:"group-"+n,className:s("CheckboxesControl-group",e.className)},l.createElement("label",{className:s("CheckboxesControl-groupLabel",e.labelClassName)},e[a||"label"]),r)},n.prototype.addChildRefs=function(e){e&&this.childRefs.push(e)},n.prototype.renderItem=function(e,n){var t,o=this;if(null===(t=e.children)||void 0===t?void 0:t.length)return this.renderGroup(e,n);var i=this.props,s=i.render,r=i.itemClassName,d=i.onToggle,h=i.selectedOptions,p=i.disabled,u=i.inline,b=i.labelClassName,C=i.labelField,m=i.removable,f=i.editable,k=i.translate,g=i.optionType,y=i.menuTpl,v=i.data,x=i.testIdBuilder,N=String(e[C||"label"]),S=e.labelClassName,E=null==x?void 0:x.getChild("item-"+N||0);return l.createElement(c.Sc,{className:r,key:n,onChange:function(){return d(e)},checked:!!~h.indexOf(e),disabled:p||e.disabled,inline:u,labelClassName:S||b,description:e.description,optionType:g,testIdBuilder:E,ref:this.addChildRefs},y?s("checkboxes/".concat(n),y,{data:(0,a.ed2)(v,e)}):N,m&&(0,a.Bdw)(e,"removable")?l.createElement("a",{"data-tooltip":k("Select.clear"),"data-position":"left"},l.createElement(c.In,{icon:"minus",className:"icon",onClick:function(n){return o.handleDeleteClick(n,e)}})):null,f&&(0,a.Bdw)(e,"editable")?l.createElement("a",{"data-tooltip":"编辑","data-position":"left"},l.createElement(c.In,{icon:"pencil",className:"icon",onClick:function(n){return o.handleEditClick(n,e)}})):null)},n.prototype.columnsSplit=function(e){var n=this.props,t=n.columnsCount,o=n.classnames,l=[],i=[];return e.forEach((function(e){e&&e.key&&String(e.key).startsWith("group")?(i.length&&(l.push((0,a.O_7)(i,o,t)),i=[]),l.push(e)):i.push(e)})),i.length&&l.push((0,a.O_7)(i,o,t)),l},n.prototype.render=function(){var e=this,n=this.props,t=n.className,i=(n.style,n.disabled),r=n.placeholder,d=n.options,h=n.inline,p=(n.columnsCount,n.selectedOptions),u=(n.onToggle,n.onToggleAll),b=n.checkAll,C=n.checkAllText,m=n.classnames,f=n.itemClassName,k=n.labelClassName,g=n.creatable,y=n.addApi,v=n.createBtnLabel,x=n.translate,N=n.optionType,S=n.loading,E=n.loadingConfig,R=n.themeCss,O=n.id,w=n.env,T=n.classPrefix,A=[];d&&d.length&&(A=d.map((function(n,t){return e.renderItem(n,t)}))),b&&A.length&&"default"===N&&A.unshift(l.createElement(c.Sc,{key:"checkall",className:f,onChange:u,checked:!!p.length,partial:s()(p.length,0,(0,a.koz)(d).length),disabled:i,inline:h,labelClassName:k},null!=C?C:x("Checkboxes.selectAll"))),A=this.columnsSplit(A);var B=(0,a.Hkh)(R,"checkboxes");return l.createElement("div",{className:m("CheckboxesControl",t,(0,a.NH8)((0,o.Cl)((0,o.Cl)({},this.props),{name:["checkboxesControlClassName","checkboxesControlCheckedClassName","checkboxesClassName","checkboxesCheckedClassName","checkboxesInnerClassName","checkboxesShowClassName"],id:O,themeCss:B}))),ref:this.checkboxRef},A&&A.length?A:S?null:l.createElement("span",{className:"Form-placeholder"},x(r)),S?l.createElement(c.y$,{show:!0,icon:"reload",size:"sm",spinnerClassName:m("Checkboxes-spinner"),loadingConfig:E}):null,!g&&!y||i?null:l.createElement("a",{className:m("Checkboxes-addBtn"),onClick:this.handleAddClick},l.createElement(c.In,{icon:"plus",className:"icon"}),x(v)),l.createElement(a.z4D,(0,o.Cl)({},this.props,{config:{themeCss:B,classNames:[{key:"checkboxesControlClassName",weights:{default:{inner:".".concat(T,"Checkbox:not(.checked):not(.disabled)")},hover:{suf:" .".concat(T,"Checkbox:not(.disabled):not(.checked)")},disabled:{inner:".".concat(T,"Checkbox.disabled:not(.checked)")}}},{key:"checkboxesControlCheckedClassName",weights:{default:{inner:".".concat(T,"Checkbox.checked:not(.disabled)")},hover:{suf:" .".concat(T,"Checkbox.checked:not(.disabled)")},disabled:{inner:".".concat(T,"Checkbox.checked.disabled")}}},{key:"checkboxesClassName",weights:{default:{inner:".".concat(T,"Checkbox:not(.checked):not(.disabled) > i")},hover:{suf:" .".concat(T,"Checkbox:not(.disabled):not(.checked)"),inner:"> i"},disabled:{inner:".".concat(T,"Checkbox.disabled:not(.checked) > i")}}},{key:"checkboxesCheckedClassName",weights:{default:{inner:".".concat(T,"Checkbox:not(.disabled) > i")},hover:{suf:" .".concat(T,"Checkbox:not(.disabled)"),inner:"> i"},disabled:{inner:".".concat(T,"Checkbox.disabled > i")}}},{key:"checkboxesInnerClassName",weights:{default:{inner:".".concat(T,"Checkbox:not(.disabled) > i .icon")},hover:{suf:" .".concat(T,"Checkbox:not(.disabled)"),inner:"> i .icon"},disabled:{inner:".".concat(T,"Checkbox.disabled > i .icon")}}},{key:"checkboxesShowClassName",weights:{default:{inner:".".concat(T,"Checkbox > i")}}}],id:O},env:w})))},n.defaultProps={columnsCount:1,multiple:!0,placeholder:"placeholder.noOption",creatable:!1,inline:!0,createBtnLabel:"Select.createLabel",optionType:"default"},(0,o.Cg)([a.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"handleAddClick",null),(0,o.Cg)([a.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Event,Object]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"handleEditClick",null),(0,o.Cg)([a.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Event,Object]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"handleDeleteClick",null),(0,o.Cg)([a.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"updateBorderStyle",null),(0,o.Cg)([a.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"addChildRefs",null),(0,o.Cg)([(0,r.E)(),(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"render",null),n}(l.Component),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(n,e),(0,o.Cg)([(0,a.QqA)({type:"checkboxes",sizeMutable:!1,thin:!0})],n)}(p)}}]);